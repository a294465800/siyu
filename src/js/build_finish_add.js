"use strict";$(document).ready(function(){new Vue({el:"#buildFinishAdd",data:{buildFinishAdd:_schemas.buildFinishAdd,build_teams:[{id:1,name:"施工队一",manager:"陈经理"},{id:2,name:"施工队二",manager:"刘经理"},{id:3,name:"施工队三",manager:"海经理"}],projects:[{id:1,content:"这是内容一",manager:"陈经理"},{id:2,content:"这是内容三",manager:"刘经理"},{id:3,content:"这是内容三",manager:"张经理"}],checkedMen:[],menList:[{id:1,name:"张先生"},{id:2,name:"陈一发"},{id:3,name:"刘芳芳"},{id:4,name:"乌达奇"},{id:5,name:"何求"}]},mounted:function(){$("#buildFinishAdd").removeClass("invisible"),this.buildFinishAdd.date=_helper.timeFormat(new Date,"YYYY-MM-DD")},computed:{sumAmount:function(){var e=this.buildFinishAdd.list;if(!e.length)return 0;var i=0;return e.forEach(function(e,t){var n=e.amount;n&&(i+=1*n)}),i}},methods:{querySearchBuild:function(e,i){var t=this.build_teams,n=e?t.filter(this.createFilterBuild(e)):t;clearTimeout(this.timeout),this.timeout=setTimeout(function(){i(n)},1e3*Math.random())},createFilterBuild:function(e){return function(i){return 0===i.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelectBuild:function(e){this.buildFinishAdd.build_id=e.id,this.buildFinishAdd.build_name=e.name,this.buildFinishAdd.build_manager=e.manager},querySearchProjectId:function(e,i){var t=this.projects,n=e?t.filter(this.createFilterProjectId(e)):t;clearTimeout(this.timeout),this.timeout=setTimeout(function(){i(n)},1e3*Math.random())},createFilterProjectId:function(e){return function(i){return 0===i.id.toLowerCase().indexOf(e.toLowerCase())}},handleSelectProjectId:function(e){this.buildFinishAdd.project_id=e.id,this.buildFinishAdd.project_content=e.content,this.buildFinishAdd.project_manager=e.manager},querySearchProjectContent:function(e,i){var t=this.projects,n=e?t.filter(this.createFilterProjectContent(e)):t;clearTimeout(this.timeout),this.timeout=setTimeout(function(){i(n)},1e3*Math.random())},createFilterProjectContent:function(e){return function(i){return 0===i.content.toLowerCase().indexOf(e.toLowerCase())}},handleSelectProjectContent:function(e){this.buildFinishAdd.project_id=e.id,this.buildFinishAdd.project_content=e.content,this.buildFinishAdd.project_manager=e.manager},submit:function(){console.log(this.buildFinishAdd),this.$notify({title:"成功",message:"提交成功",type:"success"}),$(".ui.dimmer").addClass("active")},addItem:function(){var e=this.buildFinishAdd.list,i={id:e.length>0&&e[e.length-1].id?e[e.length-1].id+1:1};this.buildFinishAdd.list.push(i)},deleteItem:function(e,i,t){this.buildFinishAdd[e].splice(t,1)},handleCheckManChange:function(e){console.log(this.checkedMen)},confirmRecheck:function(){this.$notify({title:"成功",message:"已选择了复核人",type:"success"}),$(".ui.dimmer").removeClass("active")}}})});