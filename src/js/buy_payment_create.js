"use strict";$(document).ready(function(){new Vue({el:"#paymentCreate",data:{form:{date:"",price:"",purchase_id:""},checkedMen:[],menList:[],project_id:"",selectData:{id:""}},mounted:function(){this.form.purchase_id=$("#purchaseId").val()||"",this.form.date=$("#hiddenDate").val()||"",this.form.price=$("#hiddenAmount").val()||"",this.project_id=$("#projectId").val()||""},methods:{submitForm:function(){var e=this;for(var t in this.form)if(""===this.form[t])return this.$notify({title:"错误",message:"不能有空信息！",type:"error"}),!1;_http.BuyManager.createPayment(this.form).then(function(t){"200"===t.data.code?(e.$notify({title:"成功",message:"提交成功",type:"success"}),e.selectData.id=t.data.data.id,_http.UserManager.searchAuthUsers({role:"buy_pay_pass",project_id:e.project_id}).then(function(a){"200"===a.data.code?(e.menList=a.data.data,$(".ui.dimmer").addClass("active")):e.$notify({title:"错误",message:t.data.msg,type:"error"})})):e.$notify({title:"错误",message:t.data.msg,type:"error"})}).catch(function(t){e.$notify({title:"错误",message:"服务器出错",type:"error"})})},handleCheckManChange:function(e){console.log(this.checkedMen)},confirmRecheck:function(){var e=this;this.selectData.users=this.checkedMen,_http.BuyManager.selectPaymentCheck(this.selectData).then(function(t){"200"===t.data.code?(e.$notify({title:"成功",message:"已选择了复核人",type:"success"}),$(".ui.dimmer").removeClass("active")):e.$notify({title:"错误",message:t.data.msg,type:"error"})}).catch(function(t){e.$notify({title:"错误",message:"服务器出错",type:"error"})})}}})});