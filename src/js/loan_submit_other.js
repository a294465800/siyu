"use strict";$(document).ready(function(){new Vue({el:"#loanSubmitOther",data:{submitOtherForm:{loan_user:"",date:"",price:"",lists:[]},paymentData:{currentTypeIndex:"",currentType:{},typeList:[],currentDetailTypeIndex:"",currentDetailType:{},detailTypeList:[]},checkedMen:[],menList:[{id:1,name:"张先生"},{id:2,name:"陈一发"},{id:3,name:"刘芳芳"},{id:4,name:"乌达奇"},{id:5,name:"何求"}]},mounted:function(){var t=this;this.submitOtherForm.date=_helper.timeFormat(new Date,"YYYY-MM-DD"),_http.LoanManager.searchCategory().then(function(e){"200"===e.data.code?t.paymentData.typeList=e.data.data:t.$notify({title:"错误",message:e.data.msg,type:"error"})}).catch(function(e){t.$notify({title:"错误",message:"服务器出错",type:"error"})}),$("#loanSubmitOther").removeClass("invisible")},computed:{sumAmount:function(){var t=this.submitOtherForm.lists;if(!t.length)return 0;var e=0;return t.forEach(function(t,a){var i=t.price;i&&(e+=1*i)}),e}},methods:{addItem:function(){var t=this.paymentData.currentTypeIndex,e=this.paymentData.currentDetailTypeIndex;if(""!==t){var a=this.submitOtherForm.lists,i={id:a.length>0&&a[a.length-1].id?a[a.length-1].id+1:1,kind_id:e||t,type:this.paymentData.currentType.name,detailType:this.paymentData.currentDetailType.name};this.submitOtherForm.lists.push(i)}else this.$notify({title:"错误",message:"请先选择具体事项",type:"error"})},deleteItem:function(t,e,a){this.submitOtherForm[t].splice(a,1)},typeChange:function(t){var e=this.paymentData.typeList[t];this.paymentData.currentType=e.title,this.paymentData.currentDetailTypeIndex="",this.paymentData.detailTypeList=e.kinds.length?e.kinds:[]},detailTypeChange:function(t){var e=this.paymentData.detailTypeList[t];this.paymentData.currentDetailType=e.title},submit:function(){var t=this;_http.LoanManager.createSubmit(this.loanForm).then(function(e){"200"===e.data.code?(t.$notify({title:"成功",message:"提交成功",type:"success"}),$(".ui.dimmer").addClass("active")):t.$notify({title:"错误",message:e.data.msg,type:"error"})}).catch(function(e){t.$notify({title:"错误",message:"服务器出错",type:"error"})})},handleCheckManChange:function(t){console.log(this.checkedMen)},confirmRecheck:function(){this.$notify({title:"成功",message:"已选择了复核人",type:"success"}),$(".ui.dimmer").removeClass("active")}}})});