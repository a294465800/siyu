"use strict";$(document).ready(function(){var t=$("#type").val(),e=$("#projectId").val(),n=$("#loanId").val();new Vue({el:"#submitSingleDialog",data:{checkedMen:[],menList:[],selectData:{id:""}},mounted:function(){var a=this;$("#submitSingleDelete").on("click",function(){var t=this;a.$confirm("确认删除该内容, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){_http.LoanManager.passSubmit({id:n}).then(function(e){"200"===e.data.code?($(t).parents("div").html('\n                      <h3 class="ui header aligned center" style="text-align:center;color:rgba(,.8);">已删除</h3>\n                      '),a.$notify({title:"成功",message:"已删除",type:"success"})):a.$notify({title:"错误",message:e.data.msg,type:"error"})}).catch(function(t){a.$notify({title:"错误",message:"服务器出错",type:"error"})})}).catch(function(){a.$message({type:"info",message:"已取消"})})}),$("#submitSingleCheck").on("click",function(){var s=this;_http.LoanManager.checkSubmit({id:n}).then(function(n){"200"===n.data.code?(a.$notify({title:"成功",message:"已复核",type:"success"}),$(s).parents("button").remove(),a.selectData.id=n.data.data.id,_http.UserManager.searchAuthUsers({role:1==t?"loan_submit_pass":"loan_project_submit_pass",project_id:e}).then(function(t){"200"===t.data.code?(a.menList=t.data.data,$(".ui.dimmer").addClass("active")):a.$notify({title:"错误",message:n.data.msg,type:"error"})})):a.$notify({title:"错误",message:n.data.msg,type:"error"})}).catch(function(t){a.$notify({title:"错误",message:"服务器出错",type:"error"})})}),$("#submitSinglePass").on("click",function(){a.$confirm("确认审批, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){_http.LoanManager.passSubmit({id:n}).then(function(t){"200"===t.data.code?a.$notify({title:"成功",message:"已审批",type:"success"}):a.$notify({title:"错误",message:t.data.msg,type:"error"})}).catch(function(t){a.$notify({title:"错误",message:"服务器出错",type:"error"})})}).catch(function(){a.$message({type:"info",message:"已取消"})})})},methods:{handleCheckManChange:function(t){console.log(this.checkedMen)},confirmRecheck:function(){var t=this,e=this.selectData;e.users=this.checkedMen,_http.LoanManager.selectPassSubmit(e).then(function(e){"200"===e.data.code?(t.$notify({title:"成功",message:"已选择了审批人",type:"success"}),$(".ui.dimmer").removeClass("active")):t.$notify({title:"错误",message:e.data.msg,type:"error"})}).catch(function(e){t.$notify({title:"错误",message:"服务器出错",type:"error"})})}}})});