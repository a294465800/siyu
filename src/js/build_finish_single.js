"use strict";$(document).ready(function(){new Vue({el:"#buildFinishSingle",data:{checkedMen:[],menList:[],selectData:{id:""},isHide:!0,isHide2:!0},mounted:function(){this.get_id=$("#getId").val()||"",$("#navbar").removeClass("invisible")},methods:{removeFnc:function(){var e=this;this.$confirm("此操作将删除该请款, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){_http.TeamManager.deleteFinish({id:e.get_id||""}).then(function(t){$("#btnGroup").html('<h3 class="ui header aligned center" style="color: rgba(0,0,0,.6);">已删除</h3>'),e.$message({type:"success",message:"删除成功!"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},recheckFnc:function(){var e=this;_http.TeamManager.checkFinish({id:this.get_id}).then(function(t){"200"===t.data.code?(e.$notify({title:"成功",message:"复核成功",type:"success"}),e.isHide=!1,e.selectData.id=t.data.data.id,_http.UserManager.searchAuthUsers({role:"build_finish_pass"}).then(function(t){"200"===t.data.code?(e.menList=t.data.data,$(".ui.dimmer").addClass("active")):e.$notify({title:"错误",message:t.data.msg,type:"error"})})):e.$notify({title:"错误",message:t.data.msg,type:"error"})}).catch(function(t){e.$notify({title:"错误",message:"服务器出错",type:"error"})})},handleCheckManChange:function(e){console.log(this.checkedMen)},confirmRecheck:function(){var e=this,t=this.selectData;t.users=this.checkedMen,_http.TeamManager.selectFinishPass(t).then(function(t){"200"===t.data.code?(e.$notify({title:"成功",message:"已选择了审批人",type:"success"}),$(".ui.dimmer").removeClass("active")):e.$notify({title:"错误",message:t.data.msg,type:"error"})}).catch(function(t){e.$notify({title:"错误",message:"服务器出错",type:"error"})})},passFnc:function(){var e=this;_http.TeamManager.passFinish({id:this.get_id}).then(function(t){"200"===t.data.code?(e.$notify({title:"成功",message:"审批成功",type:"success"}),e.isHide2=!1):e.$notify({title:"错误",message:t.data.msg,type:"error"})}).catch(function(t){e.$notify({title:"错误",message:"服务器出错",type:"error"})})}}})});