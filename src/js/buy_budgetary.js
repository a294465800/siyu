"use strict";$(document).ready(function(){new Vue({el:"#buyBudgetary",data:{project:{content:"",id:""},materialType:_schemas.budget_type_reverse,preMaterialsList:{count1:123123,count2:4224231,count3:2414214124,data:[{id:1,name:"物料一",parameter:"参数一。性能一",model:"型号一",manufacturer:"厂家一",unit:"个",prePrice:213,preQuantity:21321,preAmount:5213123,type:1,realQuantity:2431,realAmount:52132,leftQuantity:25321,leftAmount:53213},{id:2,name:"物料二",parameter:"参数二。性能二",model:"型号二",manufacturer:"厂家二",unit:"件",prePrice:213,preQuantity:2413,preAmount:52132312123,type:2,realQuantity:21,realAmount:5212332,leftQuantity:1223,leftAmount:2423232}]},materialsDialog:!1,loader:!0,materialsDetail:{},throttle:{project_id_timer:null,project_content_timer:null}},mounted:function(){$("#buyBudgetary").removeClass("invisible")},methods:{querySearch:function(t,e){var r=this;this.throttle.project_content_timer&&clearTimeout(this.throttle.project_content_timer),this.throttle.project_content_timer=setTimeout(function(){var a={name:t};_http.ProjectManager.searchProject(a).then(function(t){"200"===t.data.code?e(t.data.data):r.$notify({title:"错误",message:t.data.msg||"未知错误",type:"error"})}).catch(function(t){r.$notify({title:"错误",message:"服务器出错",type:"error"})})},500)},handleSelect:function(t){this.project.id=t.number,this.project.content=t.name},querySearchProjectId:function(t,e){var r=this;this.throttle.project_id_timer&&clearTimeout(this.throttle.project_id_timer),this.throttle.project_id_timer=setTimeout(function(){var a={id:t};_http.ProjectManager.searchProject(a).then(function(t){"200"===t.data.code?e(t.data.data):r.$notify({title:"错误",message:t.data.msg||"未知错误",type:"error"})}).catch(function(t){r.$notify({title:"错误",message:"服务器出错",type:"error"})})},500)},handleSelectProjectId:function(t){this.project.id=t.number,this.project.content=t.name},checkDetail:function(t,e){var r=this;this.loader=!0,this.materialsDialog=!0,setTimeout(function(){r.loader=!1,r.materialsDetail={name:"物料一",parameter:"这是性能参数这是性能参数",model:"ak-47",unit:"个",manufacturer:"xxx厂家",pre:{quantity:50,price:500,amount:52500},data:[{id:1,number:"CG123151231232",quantity:-5,price:500,amount:-2500,manufacturer:"aaa供货商"},{id:2,number:"CG123123242122",quantity:-50,price:500,amount:-25e3,manufacturer:"bbb供货商"}],left:{quantity:0,amount:0}}},1e3)},submit:function(){this.project.id&&this.project.content?_helper.fullWindow("../buy/budgetary_buy.html?id="+this.project.id):this.$notify({type:"error",title:"错误",message:"请先选择项目"})}}})});