"use strict";$(document).ready(function(){new Vue({el:"#stockBuyAdd",data:{commodities:[],stockBuyAdd:_schemas.stockBuyAdd,materials:[{id:1,name:"物料一",model:"型号一",unit:"个",price:253,quantity:2534,amount:50876,buy_number:1500,left_number:1034},{id:2,name:"物料二",model:"型号二",unit:"个",price:253,quantity:2534,amount:50876,buy_number:1500,left_number:1034},{id:3,name:"物料三",model:"型号三",unit:"个",price:253,quantity:2534,amount:50876,buy_number:1500,left_number:1034},{id:4,name:"物料四",model:"型号四",unit:"个",price:253,quantity:2534,amount:50876,buy_number:1500,left_number:1034}],currentMaterial:""},mounted:function(){this.commodities=this.loadAll(),this.stockBuyAdd.receiver=$("#stockReceiver").val(),this.stockBuyAdd.date=_helper.timeFormat(new Date,"YYYY-MM-DD"),$("#stockBuyAdd").removeClass("invisible");var e=$("#stockProjectId").text().trim();this.stockBuyAdd.projectId=e||!1},methods:{querySearch:function(e,t){var i=this.commodities,r=e?i.filter(this.createFilter(e)):i;clearTimeout(this.timeout),this.timeout=setTimeout(function(){t(r)},1e3*Math.random())},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},loadAll:function(){return[{id:1,name:"三全鲜食（北新泾店）",parameter:"这些是一些参数和性能数据",model:"型号一",unit:"间",address:"长宁区新渔路144号"},{id:2,name:"Hot honey 首尔炸鸡（仙霞路）",parameter:"这些是一些参数和性能数据",model:"型号二",unit:"个",address:"上海市长宁区淞虹路661号"},{id:3,name:"新旺角茶餐厅",parameter:"这些是一些参数和性能数据",model:"型号三",unit:"只",address:"上海市普陀区真北路988号创邑金沙谷6号楼113"},{id:4,name:"泷千家(天山西路店)",parameter:"这些是一些参数和性能数据",model:"型号四",unit:"件",address:"天山西路438号"},{id:5,name:"胖仙女纸杯蛋糕（上海凌空店）",parameter:"这些是一些参数和性能数据",model:"型号五",unit:"间",address:"上海市长宁区金钟路968号1幢18号楼一层商铺18-101"},{id:6,name:"贡茶",parameter:"这些是一些参数和性能数据",model:"型号六",unit:"间",address:"上海市长宁区金钟路633号"},{id:7,name:"豪大大香鸡排超级奶爸",parameter:"这些是一些参数和性能数据",model:"型号七",unit:"间",address:"上海市嘉定区曹安公路曹安路1685号"},{id:8,name:"茶芝兰（奶茶，手抓饼）",parameter:"这些是一些参数和性能数据",model:"型号八",unit:"间",address:"上海市普陀区同普路1435号"}]},handleSelect:function(e){this.stockBuyAdd.stock=e.name},addItem:function(){if(""===this.currentMaterial)return this.$notify.error({title:"错误",message:"请选择一项"}),!1;var e=this.stockBuyAdd.list,t={id:e.length>0&&e[e.length-1].id?e[e.length-1].id+1:1,material:this.materials[this.currentMaterial],current_number:0};t.material.index=this.currentMaterial,this.stockBuyAdd.list.push(t)},deleteItem:function(e,t,i){this.stockBuyAdd[e].splice(i,1)},submit:function(){console.log(this.stockBuyAdd)}}})});