"use strict";$(document).ready(function(){new Vue({el:"#budgetCreate",data:{budgetType:_schemas.budget_type,newBudget:_schemas.budget,budgetForm:new Array,project_id:""},mounted:function(){$("#budgetCreate").removeClass("invisible"),this.project_id=$("#budgetCreate").data("id")},methods:{addNewBudget:function(){var e=Object.assign({},this.newBudget);console.log(e);for(var t in e)if(""===e[t]||void 0===e[t])return this.$notify.error({title:"错误",message:"请确保已填写所有项！"}),!1;this.budgetForm.push(e);for(var i in this.newBudget)"id"!==i?this.newBudget[i]="":"id"===i&&this.newBudget.id++;this.$notify.success({title:"成功",message:"已添加"})},deleteBudget:function(e,t){this.budgetForm.splice(t,1)},submit:function(){var e=this;_http.BudgetManager.createBudget(this.project_id,this.budgetForm).then(function(t){"200"===t.data.code?e.$notify({title:"成功",message:"提交成功",type:"success"}):e.$notify({title:"错误",message:t.data.msg||"未知错误",type:"error"})}).catch(function(t){e.$notify({title:"错误",message:"服务器出错",type:"error"})})}}})});