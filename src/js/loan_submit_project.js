"use strict";$(document).ready(function(){new Vue({el:"#loanSubmitOther",data:{submitProjectForm:{people:"",date:"",amount:"",project_id:"",project_content:"",list:[]},paymentData:{currentTypeIndex:"",currentType:{},typeList:[{id:1,name:"交通运输费"},{id:2,name:"业务招待费"},{id:3,name:"差旅费"}],currentDetailTypeIndex:"",currentDetailType:{},detailTypeList:[]},projects:[{id:1,content:"这是内容一",manager:"陈经理"},{id:2,content:"这是内容三",manager:"刘经理"},{id:3,content:"这是内容三",manager:"张经理"}],checkedMen:[],menList:[{id:1,name:"张先生"},{id:2,name:"陈一发"},{id:3,name:"刘芳芳"},{id:4,name:"乌达奇"},{id:5,name:"何求"}]},mounted:function(){$("#loanSubmitOther").removeClass("invisible"),this.submitProjectForm.date=_helper.timeFormat(new Date,"YYYY-MM-DD")},computed:{sumAmount:function(){var t=this.submitProjectForm.list;if(!t.length)return 0;var e=0;return t.forEach(function(t,n){var i=t.amount;i&&(e+=1*i)}),e}},methods:{querySearchProjectId:function(t,e){var n=this.projects,i=t?n.filter(this.createFilterProjectId(t)):n;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e(i)},1e3*Math.random())},createFilterProjectId:function(t){return function(e){return 0===e.id.toLowerCase().indexOf(t.toLowerCase())}},handleSelectProjectId:function(t){this.submitProjectForm.project_id=t.id,this.submitProjectForm.project_content=t.content},querySearchProjectContent:function(t,e){var n=this.projects,i=t?n.filter(this.createFilterProjectContent(t)):n;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e(i)},1e3*Math.random())},createFilterProjectContent:function(t){return function(e){return 0===e.content.toLowerCase().indexOf(t.toLowerCase())}},handleSelectProjectContent:function(t){this.submitProjectForm.project_id=t.id,this.submitProjectForm.project_content=t.content},addItem:function(){if(""!==this.paymentData.currentDetailTypeIndex){var t=this.submitProjectForm.list,e={id:t.length>0&&t[t.length-1].id?t[t.length-1].id+1:1,type:this.paymentData.currentType.name,detailType:this.paymentData.currentDetailType.name};this.submitProjectForm.list.push(e)}else this.$notify({title:"错误",message:"请先选择具体事项",type:"error"})},deleteItem:function(t,e,n){this.submitProjectForm[t].splice(n,1)},typeChange:function(t){var e=this.paymentData.typeList[t];this.paymentData.currentType=e;var n={1:[{id:1,name:"油费"},{id:2,name:"路桥费"},{id:3,name:"汽车维修费"},{id:4,name:"车辆保修"}],2:[{id:1,name:"餐费"},{id:2,name:"其他"}],3:[{id:1,name:"打车费"},{id:2,name:"餐补"},{id:3,name:"其他"}]}[e.id];this.paymentData.currentDetailTypeIndex="",this.paymentData.detailTypeList=n.length?n:[]},detailTypeChange:function(t){var e=this.paymentData.detailTypeList[t];this.paymentData.currentDetailType=e},submit:function(){this.$notify({title:"成功",message:"提交成功",type:"success"}),$(".ui.dimmer").addClass("active")},handleCheckManChange:function(t){console.log(this.checkedMen)},confirmRecheck:function(){this.$notify({title:"成功",message:"已选择了复核人",type:"success"}),$(".ui.dimmer").removeClass("active")}}})});