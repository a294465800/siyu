"use strict";$(document).ready(function(){new Vue({el:"#outAddAdd",data:{stockOutAdd:{date:"",reason:"",list:[],stock_id:""},stocks:[{id:1,name:"仓库一",manager:"陈先生"},{id:2,name:"仓库二",manager:"刘先生"},{id:3,name:"仓库三",manager:"洪先生"}],current:{material:{name:"",material:""},stock:{name:"",stock:""}},materials:[{id:1,name:"物料一",model:"型号一",unit:"个",parameter:"这是参数型号",manufacturer:"xx厂家",buy_count:5221,buy_amount:2523,price:11},{id:2,name:"物料二",model:"型号二",unit:"个",parameter:"这是参数型号",manufacturer:"xx厂家",buy_count:22,buy_amount:62312,price:22},{id:3,name:"物料三",model:"型号三",unit:"个",parameter:"这是参数型号",manufacturer:"xx厂家",buy_count:12,buy_amount:55,price:412},{id:4,name:"物料四",model:"型号四",unit:"个",parameter:"这是参数型号",manufacturer:"xx厂家",buy_count:3,buy_amount:156,price:3}]},mounted:function(){$("#outAddAdd").removeClass("invisible")},methods:{querySearchStock:function(t,e){var a=this.stocks,i=t?a.filter(this.createFilterStock(t)):a;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e(i)},1e3*Math.random())},createFilterStock:function(t){return function(e){return 0===e.name.toLowerCase().indexOf(t.toLowerCase())}},querySearchMaterial:function(t,e){var a=this.materials,i=t?a.filter(this.createFilterMaterial(t)):a;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e(i)},1e3*Math.random())},createFilterMaterial:function(t){return function(e){return 0===e.name.toLowerCase().indexOf(t.toLowerCase())}},handleSelectStock:function(t){this.stockOutAdd.stock_id=t.id,this.current.stock.name=t.name,this.current.stock.stock=t},handleSelectMaterial:function(t){this.current.material.name=t.name,this.current.material.material=t},addItem:function(){if(""===this.current.material.name)return this.$notify.error({title:"错误",message:"请选择一项"}),!1;var t=this.stockOutAdd.list,e={id:t.length>0&&t[t.length-1].id?t[t.length-1].id+1:1,material:this.current.material.material};this.stockOutAdd.list.push(e)},deleteItem:function(t,e,a){this.stockOutAdd[t].splice(a,1)},submit:function(){console.log(this.stockOutAdd)}}})});