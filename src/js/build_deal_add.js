"use strict";$(document).ready(function(){new Vue({el:"#buildDealAdd",data:{buildDealAdd:_schemas.buildDealAdd,build_teams:[{id:1,name:"施工队一",manager:"陈经理"},{id:2,name:"施工队二",manager:"刘经理"},{id:3,name:"施工队三",manager:"海经理"}],projects:[{id:1,content:"这是内容一",manager:"陈经理"},{id:2,content:"这是内容三",manager:"刘经理"},{id:3,content:"这是内容三",manager:"张经理"}]},mounted:function(){$("#buildDealAdd").removeClass("invisible")},methods:{querySearchBuild:function(e,t){var i=this.build_teams,n=e?i.filter(this.createFilterBuild(e)):i;clearTimeout(this.timeout),this.timeout=setTimeout(function(){t(n)},1e3*Math.random())},createFilterBuild:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleSelectBuild:function(e){this.buildDealAdd.build_id=e.id,this.buildDealAdd.build_name=e.name,this.buildDealAdd.build_manager=e.manager},querySearchProjectId:function(e,t){var i=this.projects,n=e?i.filter(this.createFilterProjectId(e)):i;clearTimeout(this.timeout),this.timeout=setTimeout(function(){t(n)},1e3*Math.random())},createFilterProjectId:function(e){return function(t){return 0===t.id.toLowerCase().indexOf(e.toLowerCase())}},handleSelectProjectId:function(e){this.buildDealAdd.project_id=e.id,this.buildDealAdd.project_content=e.content,this.buildDealAdd.project_manager=e.manager},querySearchProjectContent:function(e,t){var i=this.projects,n=e?i.filter(this.createFilterProjectContent(e)):i;clearTimeout(this.timeout),this.timeout=setTimeout(function(){t(n)},1e3*Math.random())},createFilterProjectContent:function(e){return function(t){return 0===t.content.toLowerCase().indexOf(e.toLowerCase())}},handleSelectProjectContent:function(e){this.buildDealAdd.project_id=e.id,this.buildDealAdd.project_content=e.content,this.buildDealAdd.project_manager=e.manager},uploadContract:function(e){var t=e.target.files;if(!(t.length<1))for(var i=this.buildDealAdd.list,n=0;n<t.length;n++){var d={id:i.length>0&&i[i.length-1].id?i[i.length-1].id+1:1,name:t[n].name,url:"http://xxx.com/upload/"+t[n].name};this.buildDealAdd.list.push(d)}},deleteItem:function(e,t,i){this.buildDealAdd[e].splice(i,1)},submit:function(){console.log(this.buildDealAdd)}}})});